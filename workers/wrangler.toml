name = "blindlist"
main = "src/index.ts"
compatibility_date = "2024-01-01"
compatibility_flags = ["nodejs_compat"]

# Environment variables (public, non-sensitive)
[vars]
NODE_ENV = "production"

# Secrets (set these with: wrangler secret put SECRET_NAME)
# - DATABASE_URL (your Supabase connection string)
# - RESEND_API_KEY
# - FRONTEND_URL

# Cron trigger to keep Supabase database alive (runs twice weekly)
# Supabase pauses projects after 7 days of inactivity
[triggers]
crons = ["0 0 * * 7", "0 0 * * 3"]  # Every Sunday and Wednesday at midnight UTC

# CORS settings
[env.production]
name = "blindlist"

[build]
command = "npx prisma generate"
